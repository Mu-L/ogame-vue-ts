import{n as e}from"./UnlockRequirement-DeOUxO_t.js";import{Fn as t,Gn as n,Mn as r,Nn as i,On as a,Pn as o,Qn as s,bn as c,ct as l,er as u,jn as d,kn as f,rr as p,rt as m,sr as h,w as g,xn as _,zt as v}from"./index-BpOElaf9.js";import{t as y}from"./useGameConfig-DqswvIth.js";import{t as b}from"./AlertDialog-BbpHh-RO.js";var x={key:0,class:`absolute inset-0 z-10 bg-background/70 backdrop-blur-[2px] rounded-lg flex items-center justify-center`},S={class:`text-center p-4 space-y-2`},C={class:`flex justify-center`},w={class:`rounded-full bg-muted p-2`},T={class:`text-xs font-medium text-muted-foreground`},E=t({__name:`CardUnlockOverlay`,props:{requirements:{}},setup(t){let E=t,D=_(),{t:O}=c(),{BUILDINGS:k,TECHNOLOGIES:A}=y(),j=u(null),M=a(()=>!E.requirements||!D.currentPlanet?!0:g(D.currentPlanet,D.player.technologies,E.requirements)),N=()=>{if(!E.requirements||!D.currentPlanet)return``;let e=[];for(let[t,n]of Object.entries(E.requirements))if(Object.values(m).includes(t)){let r=t,i=D.currentPlanet.buildings[r]||0,a=k.value[r]?.name||r,o=i>=n?`✓`:`✗`;e.push(`${o} ${a}: Lv ${n} (${O(`common.current`)}: Lv ${i})`)}else if(Object.values(l).includes(t)){let r=t,i=D.player.technologies[r]||0,a=A.value[r]?.name||r,o=i>=n?`✓`:`✗`;e.push(`${o} ${a}: Lv ${n} (${O(`common.current`)}: Lv ${i})`)}return e.join(`
`)},P=()=>{j.value?.show({title:O(`common.requirementsNotMet`),message:N()})};return(t,a)=>M.value?d(``,!0):(n(),r(`div`,x,[f(`div`,S,[f(`div`,C,[f(`div`,w,[o(p(e),{size:20,class:`text-muted-foreground`})])]),f(`p`,T,h(p(O)(`common.locked`)),1),o(p(v),{variant:`outline`,size:`sm`,onClick:P,class:`text-xs`},{default:s(()=>[i(h(p(O)(`common.viewRequirements`)),1)]),_:1})]),o(b,{ref_key:`requirementsDialog`,ref:j},null,512)]))}});export{E as t};