import{t as e}from"./CardDescription-Cb9v68Xa.js";import{An as t,B as n,En as r,Fn as i,Gn as a,It as o,Mn as s,Nn as c,On as l,Pn as u,Pt as d,Qn as f,V as p,bn as ee,dt as m,er as te,ft as h,jn as g,kn as _,lt as v,qn as y,rr as b,sr as x,ut as S,xn as ne,zt as C}from"./index-BpOElaf9.js";import{t as re}from"./useGameConfig-DqswvIth.js";var ie={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},ae={class:`text-2xl sm:text-3xl font-bold`},oe={class:`flex gap-2 border-b`},se={key:0,class:`space-y-4`},w={class:`flex justify-between items-start gap-2`},T={class:`min-w-0 flex-1`},E={class:`text-sm font-medium mb-2`},D={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},O={class:`text-muted-foreground`},k={class:`ml-1 font-medium`},A={class:`text-sm font-medium mb-2`},j={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},M={class:`text-muted-foreground`},N={class:`ml-1 font-medium`},P={key:0},F={class:`text-sm font-medium mb-2`},I={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},L={class:`text-muted-foreground`},R={class:`ml-1 font-medium`},z={class:`grid grid-cols-1 sm:grid-cols-2 gap-4`},B={class:`p-3 bg-muted rounded-lg`},V={class:`text-sm font-medium mb-2 text-red-600`},H={class:`space-y-1 text-xs`},U={key:0,class:`text-muted-foreground`},W={class:`p-3 bg-muted rounded-lg`},G={class:`text-sm font-medium mb-2 text-red-600`},K={class:`space-y-1 text-xs`},ce={key:0,class:`text-muted-foreground`},le={key:1,class:`p-3 bg-green-50 dark:bg-green-950 rounded-lg`},ue={class:`text-sm font-medium mb-2 text-green-600`},de={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},fe={key:0,class:`flex items-center gap-1`},pe={key:1,class:`flex items-center gap-1`},me={key:2,class:`flex items-center gap-1`},he={key:2,class:`p-3 bg-muted rounded-lg`},ge={class:`text-sm font-medium mb-2`},_e={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},ve={key:0,class:`flex items-center gap-1`},ye={key:1,class:`flex items-center gap-1`},be={key:1,class:`space-y-4`},xe={class:`flex justify-between items-start gap-2`},Se={class:`text-sm font-medium mb-2`},Ce={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},we={class:`flex items-center gap-1`},Te={class:`flex items-center gap-1`},Ee={class:`flex items-center gap-1`},De={key:0},Oe={class:`text-sm font-medium mb-2`},ke={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Ae={class:`text-muted-foreground`},je={class:`ml-1 font-medium`},Me={key:1},Ne={class:`text-sm font-medium mb-2`},Pe={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Fe={class:`text-muted-foreground`},Ie={class:`ml-1 font-medium`},Le={key:2},Re={class:`text-sm font-medium mb-2`},ze={class:`grid grid-cols-2 sm:grid-cols-3 gap-2`},Be={key:0,class:`text-xs sm:text-sm`},q={class:`text-muted-foreground`},Ve={class:`ml-1 font-medium`},J=i({__name:`MessagesView`,setup(i){let J=ne(),{t:Y}=ee(),{SHIPS:X,DEFENSES:Z,BUILDINGS:He}=re(),Q=te(`battles`),Ue=l(()=>[...J.player.battleReports].sort((e,t)=>t.timestamp-e.timestamp)),We=l(()=>[...J.player.spyReports].sort((e,t)=>t.timestamp-e.timestamp)),$=e=>e?Object.values(e).some(e=>e>0):!1;return(i,l)=>(a(),s(`div`,ie,[_(`h1`,ae,x(b(Y)(`messagesView.title`)),1),_(`div`,oe,[u(b(C),{onClick:l[0]||=e=>Q.value=`battles`,variant:Q.value===`battles`?`default`:`ghost`,class:`rounded-b-none`},{default:f(()=>[c(x(b(Y)(`messagesView.battleReports`))+` `,1),b(J).player.battleReports.length>0?(a(),t(b(o),{key:0,variant:`secondary`,class:`ml-1`},{default:f(()=>[c(x(b(J).player.battleReports.length),1)]),_:1})):g(``,!0)]),_:1},8,[`variant`]),u(b(C),{onClick:l[1]||=e=>Q.value=`spy`,variant:Q.value===`spy`?`default`:`ghost`,class:`rounded-b-none`},{default:f(()=>[c(x(b(Y)(`messagesView.spyReports`))+` `,1),b(J).player.spyReports.length>0?(a(),t(b(o),{key:0,variant:`secondary`,class:`ml-1`},{default:f(()=>[c(x(b(J).player.spyReports.length),1)]),_:1})):g(``,!0)]),_:1},8,[`variant`])]),Q.value===`battles`?(a(),s(`div`,se,[b(J).player.battleReports.length===0?(a(),t(b(h),{key:0},{default:f(()=>[u(b(m),{class:`py-8 text-center text-muted-foreground`},{default:f(()=>[c(x(b(Y)(`messagesView.noBattleReports`)),1)]),_:1})]),_:1})):g(``,!0),(a(!0),s(r,null,y(Ue.value,i=>(a(),t(b(h),{key:i.id},{default:f(()=>[u(b(S),null,{default:f(()=>[_(`div`,w,[_(`div`,T,[u(b(v),{class:`text-base sm:text-lg`},{default:f(()=>[c(x(b(Y)(`messagesView.battleReport`)),1)]),_:1}),u(b(e),{class:`text-xs sm:text-sm`},{default:f(()=>[c(x(b(n)(i.timestamp)),1)]),_:2},1024)]),u(b(o),{variant:i.winner===`attacker`?`default`:i.winner===`defender`?`destructive`:`secondary`},{default:f(()=>[c(x(i.winner===`attacker`?b(Y)(`messagesView.victory`):i.winner===`defender`?b(Y)(`messagesView.defeat`):b(Y)(`messagesView.draw`)),1)]),_:2},1032,[`variant`])])]),_:2},1024),u(b(m),{class:`space-y-4`},{default:f(()=>[_(`div`,null,[_(`p`,E,x(b(Y)(`messagesView.attackerFleet`))+`:`,1),_(`div`,D,[(a(!0),s(r,null,y(i.attackerFleet,(e,t)=>(a(),s(`div`,{key:t,class:`text-xs sm:text-sm`},[_(`span`,O,x(b(X)[t].name)+`:`,1),_(`span`,k,x(e),1)]))),128))])]),_(`div`,null,[_(`p`,A,x(b(Y)(`messagesView.defenderFleet`))+`:`,1),_(`div`,j,[(a(!0),s(r,null,y(i.defenderFleet,(e,t)=>(a(),s(`div`,{key:t,class:`text-xs sm:text-sm`},[_(`span`,M,x(b(X)[t].name)+`:`,1),_(`span`,N,x(e),1)]))),128))])]),$(i.defenderDefense)?(a(),s(`div`,P,[_(`p`,F,x(b(Y)(`messagesView.defenderDefense`))+`:`,1),_(`div`,I,[(a(!0),s(r,null,y(i.defenderDefense,(e,t)=>(a(),s(`div`,{key:t,class:`text-xs sm:text-sm`},[_(`span`,L,x(b(Z)[t].name)+`:`,1),_(`span`,R,x(e),1)]))),128))])])):g(``,!0),_(`div`,z,[_(`div`,B,[_(`p`,V,x(b(Y)(`messagesView.attackerLosses`))+`:`,1),_(`div`,H,[(a(!0),s(r,null,y(i.attackerLosses,(e,t)=>(a(),s(`div`,{key:t},x(b(X)[t].name)+`: `+x(e),1))),128)),Object.keys(i.attackerLosses).length===0?(a(),s(`p`,U,x(b(Y)(`messagesView.noLosses`)),1)):g(``,!0)])]),_(`div`,W,[_(`p`,G,x(b(Y)(`messagesView.defenderLosses`))+`:`,1),_(`div`,K,[(a(!0),s(r,null,y(i.defenderLosses.fleet,(e,t)=>(a(),s(`div`,{key:t},x(b(X)[t].name)+`: `+x(e),1))),128)),(a(!0),s(r,null,y(i.defenderLosses.defense,(e,t)=>(a(),s(`div`,{key:t},x(b(Z)[t].name)+`: `+x(e),1))),128)),Object.keys(i.defenderLosses.fleet).length===0&&Object.keys(i.defenderLosses.defense).length===0?(a(),s(`p`,ce,x(b(Y)(`messagesView.noLosses`)),1)):g(``,!0)])])]),i.plunder.metal>0||i.plunder.crystal>0||i.plunder.deuterium>0?(a(),s(`div`,le,[_(`p`,ue,x(b(Y)(`messagesView.plunder`))+`:`,1),_(`div`,de,[i.plunder.metal>0?(a(),s(`span`,fe,[u(d,{type:`metal`,size:`sm`}),c(` `+x(b(p)(i.plunder.metal)),1)])):g(``,!0),i.plunder.crystal>0?(a(),s(`span`,pe,[u(d,{type:`crystal`,size:`sm`}),c(` `+x(b(p)(i.plunder.crystal)),1)])):g(``,!0),i.plunder.deuterium>0?(a(),s(`span`,me,[u(d,{type:`deuterium`,size:`sm`}),c(` `+x(b(p)(i.plunder.deuterium)),1)])):g(``,!0)])])):g(``,!0),i.debrisField.metal>0||i.debrisField.crystal>0?(a(),s(`div`,he,[_(`p`,ge,x(b(Y)(`messagesView.debrisField`))+`:`,1),_(`div`,_e,[i.debrisField.metal>0?(a(),s(`span`,ve,[u(d,{type:`metal`,size:`sm`}),c(` `+x(b(p)(i.debrisField.metal)),1)])):g(``,!0),i.debrisField.crystal>0?(a(),s(`span`,ye,[u(d,{type:`crystal`,size:`sm`}),c(` `+x(b(p)(i.debrisField.crystal)),1)])):g(``,!0)])])):g(``,!0)]),_:2},1024)]),_:2},1024))),128))])):g(``,!0),Q.value===`spy`?(a(),s(`div`,be,[b(J).player.spyReports.length===0?(a(),t(b(h),{key:0},{default:f(()=>[u(b(m),{class:`py-8 text-center text-muted-foreground`},{default:f(()=>[c(x(b(Y)(`messagesView.noSpyReports`)),1)]),_:1})]),_:1})):g(``,!0),(a(!0),s(r,null,y(We.value,i=>(a(),t(b(h),{key:i.id},{default:f(()=>[u(b(S),null,{default:f(()=>[_(`div`,xe,[_(`div`,null,[u(b(v),{class:`text-base sm:text-lg`},{default:f(()=>[c(x(b(Y)(`messagesView.spyReport`)),1)]),_:1}),u(b(e),{class:`text-xs sm:text-sm`},{default:f(()=>[c(x(b(n)(i.timestamp)),1)]),_:2},1024)]),u(b(o),{variant:`outline`},{default:f(()=>[c(x(i.targetPlanetId),1)]),_:2},1024)])]),_:2},1024),u(b(m),{class:`space-y-4`},{default:f(()=>[_(`div`,null,[_(`p`,Se,x(b(Y)(`messagesView.resources`))+`:`,1),_(`div`,Ce,[_(`span`,we,[u(d,{type:`metal`,size:`sm`}),c(` `+x(b(p)(i.resources.metal)),1)]),_(`span`,Te,[u(d,{type:`crystal`,size:`sm`}),c(` `+x(b(p)(i.resources.crystal)),1)]),_(`span`,Ee,[u(d,{type:`deuterium`,size:`sm`}),c(` `+x(b(p)(i.resources.deuterium)),1)])])]),i.fleet?(a(),s(`div`,De,[_(`p`,Oe,x(b(Y)(`messagesView.fleet`))+`:`,1),_(`div`,ke,[(a(!0),s(r,null,y(i.fleet,(e,t)=>(a(),s(`div`,{key:t,class:`text-xs sm:text-sm`},[_(`span`,Ae,x(b(X)[t].name)+`:`,1),_(`span`,je,x(e),1)]))),128))])])):g(``,!0),i.defense&&$(i.defense)?(a(),s(`div`,Me,[_(`p`,Ne,x(b(Y)(`messagesView.defense`))+`:`,1),_(`div`,Pe,[(a(!0),s(r,null,y(i.defense,(e,t)=>(a(),s(`div`,{key:t,class:`text-xs sm:text-sm`},[_(`span`,Fe,x(b(Z)[t].name)+`:`,1),_(`span`,Ie,x(e),1)]))),128))])])):g(``,!0),i.buildings?(a(),s(`div`,Le,[_(`p`,Re,x(b(Y)(`messagesView.buildings`))+`:`,1),_(`div`,ze,[(a(!0),s(r,null,y(i.buildings,(e,t)=>(a(),s(r,{key:t},[e&&e>0?(a(),s(`div`,Be,[_(`span`,q,x(b(He)[t].name)+`:`,1),_(`span`,Ve,`Lv `+x(e),1)])):g(``,!0)],64))),128))])])):g(``,!0)]),_:2},1024)]),_:2},1024))),128))])):g(``,!0)]))}});export{J as default};